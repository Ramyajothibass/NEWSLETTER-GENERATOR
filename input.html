<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
    <div id="inputPage">
        <label for="dateInput">Date:</label><br>
        <input type="text" id="dateInput"><br><br>

        <label for="mainTitleInput">Main Title:</label><br>
        <input type="text" id="mainTitleInput"><br><br>

        <label for="subTitleInput">Sub Title:</label><br>
        <input type="text" id="subTitleInput"><br><br>

        <label for="imageInput1">Image 1:</label><br>
        <input type="file" id="imageInput1"><br><br>

        <label for="contentInput1">Content 1:</label><br>
        <textarea id="contentInput1" rows="4" cols="50"></textarea><br><br>

        <label for="imageInput2">Image 2:</label><br>
        <input type="file" id="imageInput2"><br><br>

        <label for="contentInput2">Content 2:</label><br>
        <textarea id="contentInput2" rows="4" cols="50"></textarea><br><br>

        <label for="imageInput3">Image 3:</label><br>
        <input type="file" id="imageInput3"><br><br>

        <label for="contentInput3">Content 3:</label><br>
        <textarea id="contentInput3" rows="4" cols="50"></textarea><br><br>

        <button onclick="updateTemplate()">Next</button>
    </div>

    <script>
        function updateTemplate() {
            var date = document.getElementById("dateInput").value;
            var mainTitle = document.getElementById("mainTitleInput").value;
            var subTitle = document.getElementById("subTitleInput").value;

            var imageInput1 = document.getElementById("imageInput1");
            var contentInput1 = document.getElementById("contentInput1");
            var imageInput2 = document.getElementById("imageInput2");
            var contentInput2 = document.getElementById("contentInput2");
            var imageInput3 = document.getElementById("imageInput3");
            var contentInput3 = document.getElementById("contentInput3");

            var userInput = {
                date: date,
                mainTitle: mainTitle,
                subTitle: subTitle,
                image1: '',
                content1: '',
                image2: '',
                content2: '',
                image3: '',
                content3: ''
            };

            // Update userInput with image 1 and content 1
            if (imageInput1.files && imageInput1.files[0]) {
                var reader1 = new FileReader();
                reader1.onload = function (e) {
                    userInput.image1 = e.target.result;
                }
                reader1.readAsDataURL(imageInput1.files[0]);
                userInput.content1 = contentInput1.value;
            }

            // Update userInput with image 2 and content 2
            if (imageInput2.files && imageInput2.files[0]) {
                var reader2 = new FileReader();
                reader2.onload = function (e) {
                    userInput.image2 = e.target.result;
                }
                reader2.readAsDataURL(imageInput2.files[0]);
                userInput.content2 = contentInput2.value;
            }

            // Update userInput with image 3 and content 3
            if (imageInput3.files && imageInput3.files[0]) {
                var reader3 = new FileReader();
                reader3.onload = function (e) {
                    userInput.image3 = e.target.result;
                }
                reader3.readAsDataURL(imageInput3.files[0]);
                userInput.content3 = contentInput3.value;
            }

            localStorage.setItem('userInput', JSON.stringify(userInput));
            window.location.href = 'eventcorner.html';
        }
    </script>
</body>
</html>
